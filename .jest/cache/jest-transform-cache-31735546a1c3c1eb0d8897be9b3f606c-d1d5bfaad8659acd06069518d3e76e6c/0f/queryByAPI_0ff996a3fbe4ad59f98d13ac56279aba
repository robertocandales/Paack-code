4473e4bf57d84143551167f53173b49d
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.queryByAPI = exports.UNSAFE_queryAllByProps = exports.UNSAFE_queryAllByType = exports.UNSAFE_queryByProps = exports.UNSAFE_queryByType = void 0;

var React = _interopRequireWildcard(require("react"));

var _getByAPI = require("./getByAPI");

var _byTestId = require("./byTestId");

var _byText = require("./byText");

var _byPlaceholderText = require("./byPlaceholderText");

var _byDisplayValue = require("./byDisplayValue");

var _errors = require("./errors");

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

var UNSAFE_queryByType = function UNSAFE_queryByType(instance) {
  return function queryByTypeFn(type) {
    try {
      return (0, _getByAPI.UNSAFE_getByType)(instance)(type);
    } catch (error) {
      return (0, _errors.createQueryByError)(error, queryByTypeFn);
    }
  };
};

exports.UNSAFE_queryByType = UNSAFE_queryByType;

var UNSAFE_queryByProps = function UNSAFE_queryByProps(instance) {
  return function queryByPropsFn(props) {
    try {
      return (0, _getByAPI.UNSAFE_getByProps)(instance)(props);
    } catch (error) {
      return (0, _errors.createQueryByError)(error, queryByPropsFn);
    }
  };
};

exports.UNSAFE_queryByProps = UNSAFE_queryByProps;

var UNSAFE_queryAllByType = function UNSAFE_queryAllByType(instance) {
  return function (type) {
    try {
      return (0, _getByAPI.UNSAFE_getAllByType)(instance)(type);
    } catch (error) {
      return [];
    }
  };
};

exports.UNSAFE_queryAllByType = UNSAFE_queryAllByType;

var UNSAFE_queryAllByProps = function UNSAFE_queryAllByProps(instance) {
  return function (props) {
    try {
      return (0, _getByAPI.UNSAFE_getAllByProps)(instance)(props);
    } catch (error) {
      return [];
    }
  };
};

exports.UNSAFE_queryAllByProps = UNSAFE_queryAllByProps;

var queryByAPI = function queryByAPI(instance) {
  return {
    queryByTestId: (0, _byTestId.queryByTestId)(instance),
    queryByText: (0, _byText.queryByText)(instance),
    queryByPlaceholderText: (0, _byPlaceholderText.queryByPlaceholderText)(instance),
    queryByDisplayValue: (0, _byDisplayValue.queryByDisplayValue)(instance),
    queryAllByTestId: (0, _byTestId.queryAllByTestId)(instance),
    queryAllByText: (0, _byText.queryAllByText)(instance),
    queryAllByPlaceholderText: (0, _byPlaceholderText.queryAllByPlaceholderText)(instance),
    queryAllByDisplayValue: (0, _byDisplayValue.queryAllByDisplayValue)(instance),
    UNSAFE_queryByType: UNSAFE_queryByType(instance),
    UNSAFE_queryAllByType: UNSAFE_queryAllByType(instance),
    UNSAFE_queryByProps: UNSAFE_queryByProps(instance),
    UNSAFE_queryAllByProps: UNSAFE_queryAllByProps(instance),
    queryByName: function queryByName() {
      return (0, _errors.throwRemovedFunctionError)('queryByName', 'migration-v2#removed-functions');
    },
    queryAllByName: function queryAllByName() {
      return (0, _errors.throwRemovedFunctionError)('queryAllByName', 'migration-v2#removed-functions');
    },
    queryByType: function queryByType() {
      return (0, _errors.throwRemovedFunctionError)('queryByType', 'migration-v2#removed-functions');
    },
    queryAllByType: function queryAllByType() {
      return (0, _errors.throwRemovedFunctionError)('queryAllByType', 'migration-v2#removed-functions');
    },
    queryByProps: function queryByProps() {
      return (0, _errors.throwRemovedFunctionError)('queryByProps', 'migration-v2#removed-functions');
    },
    queryAllByProps: function queryAllByProps() {
      return (0, _errors.throwRemovedFunctionError)('queryAllByProps', 'migration-v2#removed-functions');
    },
    queryByPlaceholder: function queryByPlaceholder() {
      return (0, _errors.throwRenamedFunctionError)('queryByPlaceholder', 'queryByPlaceholderText');
    },
    queryAllByPlaceholder: function queryAllByPlaceholder() {
      return (0, _errors.throwRenamedFunctionError)('queryAllByPlaceholder', 'queryAllByPlaceholderText');
    }
  };
};

exports.queryByAPI = queryByAPI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInF1ZXJ5QnlBUEkuanMiXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJxdWVyeUJ5QVBJIiwiVU5TQUZFX3F1ZXJ5QWxsQnlQcm9wcyIsIlVOU0FGRV9xdWVyeUFsbEJ5VHlwZSIsIlVOU0FGRV9xdWVyeUJ5UHJvcHMiLCJVTlNBRkVfcXVlcnlCeVR5cGUiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9nZXRCeUFQSSIsIl9ieVRlc3RJZCIsIl9ieVRleHQiLCJfYnlQbGFjZWhvbGRlclRleHQiLCJfYnlEaXNwbGF5VmFsdWUiLCJfZXJyb3JzIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsImNhY2hlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuZXdPYmoiLCJoYXNQcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiaW5zdGFuY2UiLCJxdWVyeUJ5VHlwZUZuIiwidHlwZSIsIlVOU0FGRV9nZXRCeVR5cGUiLCJlcnJvciIsImNyZWF0ZVF1ZXJ5QnlFcnJvciIsInF1ZXJ5QnlQcm9wc0ZuIiwicHJvcHMiLCJVTlNBRkVfZ2V0QnlQcm9wcyIsIlVOU0FGRV9nZXRBbGxCeVR5cGUiLCJVTlNBRkVfZ2V0QWxsQnlQcm9wcyIsInF1ZXJ5QnlUZXN0SWQiLCJxdWVyeUJ5VGV4dCIsInF1ZXJ5QnlQbGFjZWhvbGRlclRleHQiLCJxdWVyeUJ5RGlzcGxheVZhbHVlIiwicXVlcnlBbGxCeVRlc3RJZCIsInF1ZXJ5QWxsQnlUZXh0IiwicXVlcnlBbGxCeVBsYWNlaG9sZGVyVGV4dCIsInF1ZXJ5QWxsQnlEaXNwbGF5VmFsdWUiLCJxdWVyeUJ5TmFtZSIsInRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IiLCJxdWVyeUFsbEJ5TmFtZSIsInF1ZXJ5QnlUeXBlIiwicXVlcnlBbGxCeVR5cGUiLCJxdWVyeUJ5UHJvcHMiLCJxdWVyeUFsbEJ5UHJvcHMiLCJxdWVyeUJ5UGxhY2Vob2xkZXIiLCJ0aHJvd1JlbmFtZWRGdW5jdGlvbkVycm9yIiwicXVlcnlBbGxCeVBsYWNlaG9sZGVyIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUMzQ0MsRUFBQUEsS0FBSyxFQUFFO0FBRG9DLENBQTdDO0FBR0FELE9BQU8sQ0FBQ0UsVUFBUixHQUFxQkYsT0FBTyxDQUFDRyxzQkFBUixHQUFpQ0gsT0FBTyxDQUFDSSxxQkFBUixHQUFnQ0osT0FBTyxDQUFDSyxtQkFBUixHQUE4QkwsT0FBTyxDQUFDTSxrQkFBUixHQUE2QixLQUFLLENBQXRKOztBQUVBLElBQUlDLEtBQUssR0FBR0MsdUJBQXVCLENBQUNDLE9BQU8sQ0FBQyxPQUFELENBQVIsQ0FBbkM7O0FBRUEsSUFBSUMsU0FBUyxHQUFHRCxPQUFPLGNBQXZCOztBQUVBLElBQUlFLFNBQVMsR0FBR0YsT0FBTyxjQUF2Qjs7QUFFQSxJQUFJRyxPQUFPLEdBQUdILE9BQU8sWUFBckI7O0FBRUEsSUFBSUksa0JBQWtCLEdBQUdKLE9BQU8sdUJBQWhDOztBQUVBLElBQUlLLGVBQWUsR0FBR0wsT0FBTyxvQkFBN0I7O0FBRUEsSUFBSU0sT0FBTyxHQUFHTixPQUFPLFlBQXJCOztBQUVBLFNBQVNPLHdCQUFULEdBQW9DO0FBQUUsTUFBSSxPQUFPQyxPQUFQLEtBQW1CLFVBQXZCLEVBQW1DLE9BQU8sSUFBUDtBQUFhLE1BQUlDLEtBQUssR0FBRyxJQUFJRCxPQUFKLEVBQVo7O0FBQTJCRCxFQUFBQSx3QkFBd0IsR0FBRyxvQ0FBWTtBQUFFLFdBQU9FLEtBQVA7QUFBZSxHQUF4RDs7QUFBMEQsU0FBT0EsS0FBUDtBQUFlOztBQUUxTCxTQUFTVix1QkFBVCxDQUFpQ1csR0FBakMsRUFBc0M7QUFBRSxNQUFJQSxHQUFHLElBQUlBLEdBQUcsQ0FBQ0MsVUFBZixFQUEyQjtBQUFFLFdBQU9ELEdBQVA7QUFBYTs7QUFBQyxNQUFJQSxHQUFHLEtBQUssSUFBUixJQUFnQixPQUFPQSxHQUFQLEtBQWUsUUFBZixJQUEyQixPQUFPQSxHQUFQLEtBQWUsVUFBOUQsRUFBMEU7QUFBRSxXQUFPO0FBQUVFLE1BQUFBLE9BQU8sRUFBRUY7QUFBWCxLQUFQO0FBQTBCOztBQUFDLE1BQUlELEtBQUssR0FBR0Ysd0JBQXdCLEVBQXBDOztBQUF3QyxNQUFJRSxLQUFLLElBQUlBLEtBQUssQ0FBQ0ksR0FBTixDQUFVSCxHQUFWLENBQWIsRUFBNkI7QUFBRSxXQUFPRCxLQUFLLENBQUNLLEdBQU4sQ0FBVUosR0FBVixDQUFQO0FBQXdCOztBQUFDLE1BQUlLLE1BQU0sR0FBRyxFQUFiO0FBQWlCLE1BQUlDLHFCQUFxQixHQUFHM0IsTUFBTSxDQUFDQyxjQUFQLElBQXlCRCxNQUFNLENBQUM0Qix3QkFBNUQ7O0FBQXNGLE9BQUssSUFBSUMsR0FBVCxJQUFnQlIsR0FBaEIsRUFBcUI7QUFBRSxRQUFJckIsTUFBTSxDQUFDOEIsU0FBUCxDQUFpQkMsY0FBakIsQ0FBZ0NDLElBQWhDLENBQXFDWCxHQUFyQyxFQUEwQ1EsR0FBMUMsQ0FBSixFQUFvRDtBQUFFLFVBQUlJLElBQUksR0FBR04scUJBQXFCLEdBQUczQixNQUFNLENBQUM0Qix3QkFBUCxDQUFnQ1AsR0FBaEMsRUFBcUNRLEdBQXJDLENBQUgsR0FBK0MsSUFBL0U7O0FBQXFGLFVBQUlJLElBQUksS0FBS0EsSUFBSSxDQUFDUixHQUFMLElBQVlRLElBQUksQ0FBQ0MsR0FBdEIsQ0FBUixFQUFvQztBQUFFbEMsUUFBQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCeUIsTUFBdEIsRUFBOEJHLEdBQTlCLEVBQW1DSSxJQUFuQztBQUEyQyxPQUFqRixNQUF1RjtBQUFFUCxRQUFBQSxNQUFNLENBQUNHLEdBQUQsQ0FBTixHQUFjUixHQUFHLENBQUNRLEdBQUQsQ0FBakI7QUFBeUI7QUFBRTtBQUFFOztBQUFDSCxFQUFBQSxNQUFNLENBQUNILE9BQVAsR0FBaUJGLEdBQWpCOztBQUFzQixNQUFJRCxLQUFKLEVBQVc7QUFBRUEsSUFBQUEsS0FBSyxDQUFDYyxHQUFOLENBQVViLEdBQVYsRUFBZUssTUFBZjtBQUF5Qjs7QUFBQyxTQUFPQSxNQUFQO0FBQWdCOztBQUV2dUIsSUFBTWxCLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBcUIsQ0FBQTJCLFFBQVE7QUFBQSxTQUFJLFNBQVNDLGFBQVQsQ0FBdUJDLElBQXZCLEVBQTZCO0FBQ2xFLFFBQUk7QUFDRixhQUFPLENBQUMsR0FBR3pCLFNBQVMsQ0FBQzBCLGdCQUFkLEVBQWdDSCxRQUFoQyxFQUEwQ0UsSUFBMUMsQ0FBUDtBQUNELEtBRkQsQ0FFRSxPQUFPRSxLQUFQLEVBQWM7QUFDZCxhQUFPLENBQUMsR0FBR3RCLE9BQU8sQ0FBQ3VCLGtCQUFaLEVBQWdDRCxLQUFoQyxFQUF1Q0gsYUFBdkMsQ0FBUDtBQUNEO0FBQ0YsR0FOa0M7QUFBQSxDQUFuQzs7QUFRQWxDLE9BQU8sQ0FBQ00sa0JBQVIsR0FBNkJBLGtCQUE3Qjs7QUFFQSxJQUFNRCxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUE0QixRQUFRO0FBQUEsU0FBSSxTQUFTTSxjQUFULENBQXdCQyxLQUF4QixFQUErQjtBQUNyRSxRQUFJO0FBQ0YsYUFBTyxDQUFDLEdBQUc5QixTQUFTLENBQUMrQixpQkFBZCxFQUFpQ1IsUUFBakMsRUFBMkNPLEtBQTNDLENBQVA7QUFDRCxLQUZELENBRUUsT0FBT0gsS0FBUCxFQUFjO0FBQ2QsYUFBTyxDQUFDLEdBQUd0QixPQUFPLENBQUN1QixrQkFBWixFQUFnQ0QsS0FBaEMsRUFBdUNFLGNBQXZDLENBQVA7QUFDRDtBQUNGLEdBTm1DO0FBQUEsQ0FBcEM7O0FBUUF2QyxPQUFPLENBQUNLLG1CQUFSLEdBQThCQSxtQkFBOUI7O0FBRUEsSUFBTUQscUJBQXFCLEdBQUcsU0FBeEJBLHFCQUF3QixDQUFBNkIsUUFBUTtBQUFBLFNBQUksVUFBQUUsSUFBSSxFQUFJO0FBQ2hELFFBQUk7QUFDRixhQUFPLENBQUMsR0FBR3pCLFNBQVMsQ0FBQ2dDLG1CQUFkLEVBQW1DVCxRQUFuQyxFQUE2Q0UsSUFBN0MsQ0FBUDtBQUNELEtBRkQsQ0FFRSxPQUFPRSxLQUFQLEVBQWM7QUFDZCxhQUFPLEVBQVA7QUFDRDtBQUNGLEdBTnFDO0FBQUEsQ0FBdEM7O0FBUUFyQyxPQUFPLENBQUNJLHFCQUFSLEdBQWdDQSxxQkFBaEM7O0FBRUEsSUFBTUQsc0JBQXNCLEdBQUcsU0FBekJBLHNCQUF5QixDQUFBOEIsUUFBUTtBQUFBLFNBQUksVUFBQU8sS0FBSyxFQUFJO0FBQ2xELFFBQUk7QUFDRixhQUFPLENBQUMsR0FBRzlCLFNBQVMsQ0FBQ2lDLG9CQUFkLEVBQW9DVixRQUFwQyxFQUE4Q08sS0FBOUMsQ0FBUDtBQUNELEtBRkQsQ0FFRSxPQUFPSCxLQUFQLEVBQWM7QUFDZCxhQUFPLEVBQVA7QUFDRDtBQUNGLEdBTnNDO0FBQUEsQ0FBdkM7O0FBUUFyQyxPQUFPLENBQUNHLHNCQUFSLEdBQWlDQSxzQkFBakM7O0FBRUEsSUFBTUQsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQStCLFFBQVE7QUFBQSxTQUFLO0FBQzlCVyxJQUFBQSxhQUFhLEVBQUUsQ0FBQyxHQUFHakMsU0FBUyxDQUFDaUMsYUFBZCxFQUE2QlgsUUFBN0IsQ0FEZTtBQUU5QlksSUFBQUEsV0FBVyxFQUFFLENBQUMsR0FBR2pDLE9BQU8sQ0FBQ2lDLFdBQVosRUFBeUJaLFFBQXpCLENBRmlCO0FBRzlCYSxJQUFBQSxzQkFBc0IsRUFBRSxDQUFDLEdBQUdqQyxrQkFBa0IsQ0FBQ2lDLHNCQUF2QixFQUErQ2IsUUFBL0MsQ0FITTtBQUk5QmMsSUFBQUEsbUJBQW1CLEVBQUUsQ0FBQyxHQUFHakMsZUFBZSxDQUFDaUMsbUJBQXBCLEVBQXlDZCxRQUF6QyxDQUpTO0FBSzlCZSxJQUFBQSxnQkFBZ0IsRUFBRSxDQUFDLEdBQUdyQyxTQUFTLENBQUNxQyxnQkFBZCxFQUFnQ2YsUUFBaEMsQ0FMWTtBQU05QmdCLElBQUFBLGNBQWMsRUFBRSxDQUFDLEdBQUdyQyxPQUFPLENBQUNxQyxjQUFaLEVBQTRCaEIsUUFBNUIsQ0FOYztBQU85QmlCLElBQUFBLHlCQUF5QixFQUFFLENBQUMsR0FBR3JDLGtCQUFrQixDQUFDcUMseUJBQXZCLEVBQWtEakIsUUFBbEQsQ0FQRztBQVE5QmtCLElBQUFBLHNCQUFzQixFQUFFLENBQUMsR0FBR3JDLGVBQWUsQ0FBQ3FDLHNCQUFwQixFQUE0Q2xCLFFBQTVDLENBUk07QUFVOUIzQixJQUFBQSxrQkFBa0IsRUFBRUEsa0JBQWtCLENBQUMyQixRQUFELENBVlI7QUFXOUI3QixJQUFBQSxxQkFBcUIsRUFBRUEscUJBQXFCLENBQUM2QixRQUFELENBWGQ7QUFZOUI1QixJQUFBQSxtQkFBbUIsRUFBRUEsbUJBQW1CLENBQUM0QixRQUFELENBWlY7QUFhOUI5QixJQUFBQSxzQkFBc0IsRUFBRUEsc0JBQXNCLENBQUM4QixRQUFELENBYmhCO0FBZTlCbUIsSUFBQUEsV0FBVyxFQUFFO0FBQUEsYUFBTSxDQUFDLEdBQUdyQyxPQUFPLENBQUNzQyx5QkFBWixFQUF1QyxhQUF2QyxFQUFzRCxnQ0FBdEQsQ0FBTjtBQUFBLEtBZmlCO0FBZ0I5QkMsSUFBQUEsY0FBYyxFQUFFO0FBQUEsYUFBTSxDQUFDLEdBQUd2QyxPQUFPLENBQUNzQyx5QkFBWixFQUF1QyxnQkFBdkMsRUFBeUQsZ0NBQXpELENBQU47QUFBQSxLQWhCYztBQWlCOUJFLElBQUFBLFdBQVcsRUFBRTtBQUFBLGFBQU0sQ0FBQyxHQUFHeEMsT0FBTyxDQUFDc0MseUJBQVosRUFBdUMsYUFBdkMsRUFBc0QsZ0NBQXRELENBQU47QUFBQSxLQWpCaUI7QUFrQjlCRyxJQUFBQSxjQUFjLEVBQUU7QUFBQSxhQUFNLENBQUMsR0FBR3pDLE9BQU8sQ0FBQ3NDLHlCQUFaLEVBQXVDLGdCQUF2QyxFQUF5RCxnQ0FBekQsQ0FBTjtBQUFBLEtBbEJjO0FBbUI5QkksSUFBQUEsWUFBWSxFQUFFO0FBQUEsYUFBTSxDQUFDLEdBQUcxQyxPQUFPLENBQUNzQyx5QkFBWixFQUF1QyxjQUF2QyxFQUF1RCxnQ0FBdkQsQ0FBTjtBQUFBLEtBbkJnQjtBQW9COUJLLElBQUFBLGVBQWUsRUFBRTtBQUFBLGFBQU0sQ0FBQyxHQUFHM0MsT0FBTyxDQUFDc0MseUJBQVosRUFBdUMsaUJBQXZDLEVBQTBELGdDQUExRCxDQUFOO0FBQUEsS0FwQmE7QUFzQjlCTSxJQUFBQSxrQkFBa0IsRUFBRTtBQUFBLGFBQU0sQ0FBQyxHQUFHNUMsT0FBTyxDQUFDNkMseUJBQVosRUFBdUMsb0JBQXZDLEVBQTZELHdCQUE3RCxDQUFOO0FBQUEsS0F0QlU7QUF1QjlCQyxJQUFBQSxxQkFBcUIsRUFBRTtBQUFBLGFBQU0sQ0FBQyxHQUFHOUMsT0FBTyxDQUFDNkMseUJBQVosRUFBdUMsdUJBQXZDLEVBQWdFLDJCQUFoRSxDQUFOO0FBQUE7QUF2Qk8sR0FBTDtBQUFBLENBQTNCOztBQTBCQTVELE9BQU8sQ0FBQ0UsVUFBUixHQUFxQkEsVUFBckIiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMucXVlcnlCeUFQSSA9IGV4cG9ydHMuVU5TQUZFX3F1ZXJ5QWxsQnlQcm9wcyA9IGV4cG9ydHMuVU5TQUZFX3F1ZXJ5QWxsQnlUeXBlID0gZXhwb3J0cy5VTlNBRkVfcXVlcnlCeVByb3BzID0gZXhwb3J0cy5VTlNBRkVfcXVlcnlCeVR5cGUgPSB2b2lkIDA7XG5cbnZhciBSZWFjdCA9IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKHJlcXVpcmUoXCJyZWFjdFwiKSk7XG5cbnZhciBfZ2V0QnlBUEkgPSByZXF1aXJlKFwiLi9nZXRCeUFQSVwiKTtcblxudmFyIF9ieVRlc3RJZCA9IHJlcXVpcmUoXCIuL2J5VGVzdElkXCIpO1xuXG52YXIgX2J5VGV4dCA9IHJlcXVpcmUoXCIuL2J5VGV4dFwiKTtcblxudmFyIF9ieVBsYWNlaG9sZGVyVGV4dCA9IHJlcXVpcmUoXCIuL2J5UGxhY2Vob2xkZXJUZXh0XCIpO1xuXG52YXIgX2J5RGlzcGxheVZhbHVlID0gcmVxdWlyZShcIi4vYnlEaXNwbGF5VmFsdWVcIik7XG5cbnZhciBfZXJyb3JzID0gcmVxdWlyZShcIi4vZXJyb3JzXCIpO1xuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuY29uc3QgVU5TQUZFX3F1ZXJ5QnlUeXBlID0gaW5zdGFuY2UgPT4gZnVuY3Rpb24gcXVlcnlCeVR5cGVGbih0eXBlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICgwLCBfZ2V0QnlBUEkuVU5TQUZFX2dldEJ5VHlwZSkoaW5zdGFuY2UpKHR5cGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAoMCwgX2Vycm9ycy5jcmVhdGVRdWVyeUJ5RXJyb3IpKGVycm9yLCBxdWVyeUJ5VHlwZUZuKTtcbiAgfVxufTtcblxuZXhwb3J0cy5VTlNBRkVfcXVlcnlCeVR5cGUgPSBVTlNBRkVfcXVlcnlCeVR5cGU7XG5cbmNvbnN0IFVOU0FGRV9xdWVyeUJ5UHJvcHMgPSBpbnN0YW5jZSA9PiBmdW5jdGlvbiBxdWVyeUJ5UHJvcHNGbihwcm9wcykge1xuICB0cnkge1xuICAgIHJldHVybiAoMCwgX2dldEJ5QVBJLlVOU0FGRV9nZXRCeVByb3BzKShpbnN0YW5jZSkocHJvcHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiAoMCwgX2Vycm9ycy5jcmVhdGVRdWVyeUJ5RXJyb3IpKGVycm9yLCBxdWVyeUJ5UHJvcHNGbik7XG4gIH1cbn07XG5cbmV4cG9ydHMuVU5TQUZFX3F1ZXJ5QnlQcm9wcyA9IFVOU0FGRV9xdWVyeUJ5UHJvcHM7XG5cbmNvbnN0IFVOU0FGRV9xdWVyeUFsbEJ5VHlwZSA9IGluc3RhbmNlID0+IHR5cGUgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAoMCwgX2dldEJ5QVBJLlVOU0FGRV9nZXRBbGxCeVR5cGUpKGluc3RhbmNlKSh0eXBlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbn07XG5cbmV4cG9ydHMuVU5TQUZFX3F1ZXJ5QWxsQnlUeXBlID0gVU5TQUZFX3F1ZXJ5QWxsQnlUeXBlO1xuXG5jb25zdCBVTlNBRkVfcXVlcnlBbGxCeVByb3BzID0gaW5zdGFuY2UgPT4gcHJvcHMgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAoMCwgX2dldEJ5QVBJLlVOU0FGRV9nZXRBbGxCeVByb3BzKShpbnN0YW5jZSkocHJvcHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBbXTtcbiAgfVxufTtcblxuZXhwb3J0cy5VTlNBRkVfcXVlcnlBbGxCeVByb3BzID0gVU5TQUZFX3F1ZXJ5QWxsQnlQcm9wcztcblxuY29uc3QgcXVlcnlCeUFQSSA9IGluc3RhbmNlID0+ICh7XG4gIHF1ZXJ5QnlUZXN0SWQ6ICgwLCBfYnlUZXN0SWQucXVlcnlCeVRlc3RJZCkoaW5zdGFuY2UpLFxuICBxdWVyeUJ5VGV4dDogKDAsIF9ieVRleHQucXVlcnlCeVRleHQpKGluc3RhbmNlKSxcbiAgcXVlcnlCeVBsYWNlaG9sZGVyVGV4dDogKDAsIF9ieVBsYWNlaG9sZGVyVGV4dC5xdWVyeUJ5UGxhY2Vob2xkZXJUZXh0KShpbnN0YW5jZSksXG4gIHF1ZXJ5QnlEaXNwbGF5VmFsdWU6ICgwLCBfYnlEaXNwbGF5VmFsdWUucXVlcnlCeURpc3BsYXlWYWx1ZSkoaW5zdGFuY2UpLFxuICBxdWVyeUFsbEJ5VGVzdElkOiAoMCwgX2J5VGVzdElkLnF1ZXJ5QWxsQnlUZXN0SWQpKGluc3RhbmNlKSxcbiAgcXVlcnlBbGxCeVRleHQ6ICgwLCBfYnlUZXh0LnF1ZXJ5QWxsQnlUZXh0KShpbnN0YW5jZSksXG4gIHF1ZXJ5QWxsQnlQbGFjZWhvbGRlclRleHQ6ICgwLCBfYnlQbGFjZWhvbGRlclRleHQucXVlcnlBbGxCeVBsYWNlaG9sZGVyVGV4dCkoaW5zdGFuY2UpLFxuICBxdWVyeUFsbEJ5RGlzcGxheVZhbHVlOiAoMCwgX2J5RGlzcGxheVZhbHVlLnF1ZXJ5QWxsQnlEaXNwbGF5VmFsdWUpKGluc3RhbmNlKSxcbiAgLy8gVW5zYWZlXG4gIFVOU0FGRV9xdWVyeUJ5VHlwZTogVU5TQUZFX3F1ZXJ5QnlUeXBlKGluc3RhbmNlKSxcbiAgVU5TQUZFX3F1ZXJ5QWxsQnlUeXBlOiBVTlNBRkVfcXVlcnlBbGxCeVR5cGUoaW5zdGFuY2UpLFxuICBVTlNBRkVfcXVlcnlCeVByb3BzOiBVTlNBRkVfcXVlcnlCeVByb3BzKGluc3RhbmNlKSxcbiAgVU5TQUZFX3F1ZXJ5QWxsQnlQcm9wczogVU5TQUZFX3F1ZXJ5QWxsQnlQcm9wcyhpbnN0YW5jZSksXG4gIC8vIFJlbW92ZWRcbiAgcXVlcnlCeU5hbWU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdxdWVyeUJ5TmFtZScsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgcXVlcnlBbGxCeU5hbWU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdxdWVyeUFsbEJ5TmFtZScsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgcXVlcnlCeVR5cGU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdxdWVyeUJ5VHlwZScsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgcXVlcnlBbGxCeVR5cGU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdxdWVyeUFsbEJ5VHlwZScsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgcXVlcnlCeVByb3BzOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbW92ZWRGdW5jdGlvbkVycm9yKSgncXVlcnlCeVByb3BzJywgJ21pZ3JhdGlvbi12MiNyZW1vdmVkLWZ1bmN0aW9ucycpLFxuICBxdWVyeUFsbEJ5UHJvcHM6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdxdWVyeUFsbEJ5UHJvcHMnLCAnbWlncmF0aW9uLXYyI3JlbW92ZWQtZnVuY3Rpb25zJyksXG4gIC8vIFJlbmFtZWRcbiAgcXVlcnlCeVBsYWNlaG9sZGVyOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbmFtZWRGdW5jdGlvbkVycm9yKSgncXVlcnlCeVBsYWNlaG9sZGVyJywgJ3F1ZXJ5QnlQbGFjZWhvbGRlclRleHQnKSxcbiAgcXVlcnlBbGxCeVBsYWNlaG9sZGVyOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbmFtZWRGdW5jdGlvbkVycm9yKSgncXVlcnlBbGxCeVBsYWNlaG9sZGVyJywgJ3F1ZXJ5QWxsQnlQbGFjZWhvbGRlclRleHQnKVxufSk7XG5cbmV4cG9ydHMucXVlcnlCeUFQSSA9IHF1ZXJ5QnlBUEk7Il19