77e67e57d9c63cf453bde38f9665e5c9
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getByAPI = exports.UNSAFE_getAllByProps = exports.UNSAFE_getAllByType = exports.UNSAFE_getByProps = exports.UNSAFE_getByType = void 0;

var React = _interopRequireWildcard(require("react"));

var _prettyFormat = _interopRequireDefault(require("pretty-format"));

var _errors = require("./errors");

var _byTestId = require("./byTestId");

var _byText = require("./byText");

var _byPlaceholderText = require("./byPlaceholderText");

var _byDisplayValue = require("./byDisplayValue");

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();

  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };

  return cache;
}

function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }

  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }

  var cache = _getRequireWildcardCache();

  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }

  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;

  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;

      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }

  newObj.default = obj;

  if (cache) {
    cache.set(obj, newObj);
  }

  return newObj;
}

var UNSAFE_getByType = function UNSAFE_getByType(instance) {
  return function getByTypeFn(type) {
    try {
      return instance.findByType(type);
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByTypeFn);
    }
  };
};

exports.UNSAFE_getByType = UNSAFE_getByType;

var UNSAFE_getByProps = function UNSAFE_getByProps(instance) {
  return function getByPropsFn(props) {
    try {
      return instance.findByProps(props);
    } catch (error) {
      throw new _errors.ErrorWithStack((0, _errors.prepareErrorMessage)(error), getByPropsFn);
    }
  };
};

exports.UNSAFE_getByProps = UNSAFE_getByProps;

var UNSAFE_getAllByType = function UNSAFE_getAllByType(instance) {
  return function getAllByTypeFn(type) {
    var results = instance.findAllByType(type);

    if (results.length === 0) {
      throw new _errors.ErrorWithStack('No instances found', getAllByTypeFn);
    }

    return results;
  };
};

exports.UNSAFE_getAllByType = UNSAFE_getAllByType;

var UNSAFE_getAllByProps = function UNSAFE_getAllByProps(instance) {
  return function getAllByPropsFn(props) {
    var results = instance.findAllByProps(props);

    if (results.length === 0) {
      throw new _errors.ErrorWithStack("No instances found with props:\n" + (0, _prettyFormat.default)(props), getAllByPropsFn);
    }

    return results;
  };
};

exports.UNSAFE_getAllByProps = UNSAFE_getAllByProps;

var getByAPI = function getByAPI(instance) {
  return {
    getByText: (0, _byText.getByText)(instance),
    getByPlaceholderText: (0, _byPlaceholderText.getByPlaceholderText)(instance),
    getByDisplayValue: (0, _byDisplayValue.getByDisplayValue)(instance),
    getByTestId: (0, _byTestId.getByTestId)(instance),
    getAllByText: (0, _byText.getAllByText)(instance),
    getAllByPlaceholderText: (0, _byPlaceholderText.getAllByPlaceholderText)(instance),
    getAllByDisplayValue: (0, _byDisplayValue.getAllByDisplayValue)(instance),
    getAllByTestId: (0, _byTestId.getAllByTestId)(instance),
    UNSAFE_getByType: UNSAFE_getByType(instance),
    UNSAFE_getAllByType: UNSAFE_getAllByType(instance),
    UNSAFE_getByProps: UNSAFE_getByProps(instance),
    UNSAFE_getAllByProps: UNSAFE_getAllByProps(instance),
    getByName: function getByName() {
      return (0, _errors.throwRemovedFunctionError)('getByName', 'migration-v2#removed-functions');
    },
    getAllByName: function getAllByName() {
      return (0, _errors.throwRemovedFunctionError)('getAllByName', 'migration-v2#removed-functions');
    },
    getByType: function getByType() {
      return (0, _errors.throwRemovedFunctionError)('getByType', 'migration-v2#removed-functions');
    },
    getAllByType: function getAllByType() {
      return (0, _errors.throwRemovedFunctionError)('getAllByType', 'migration-v2#removed-functions');
    },
    getByProps: function getByProps() {
      return (0, _errors.throwRemovedFunctionError)('getByProps', 'migration-v2#removed-functions');
    },
    getAllByProps: function getAllByProps() {
      return (0, _errors.throwRemovedFunctionError)('getAllByProps', 'migration-v2#removed-functions');
    },
    getByPlaceholder: function getByPlaceholder() {
      return (0, _errors.throwRenamedFunctionError)('getByPlaceholder', 'getByPlaceholderText');
    },
    getAllByPlaceholder: function getAllByPlaceholder() {
      return (0, _errors.throwRenamedFunctionError)('getAllByPlaceholder', 'getByPlaceholderText');
    }
  };
};

exports.getByAPI = getByAPI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldEJ5QVBJLmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiZ2V0QnlBUEkiLCJVTlNBRkVfZ2V0QWxsQnlQcm9wcyIsIlVOU0FGRV9nZXRBbGxCeVR5cGUiLCJVTlNBRkVfZ2V0QnlQcm9wcyIsIlVOU0FGRV9nZXRCeVR5cGUiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9wcmV0dHlGb3JtYXQiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX2Vycm9ycyIsIl9ieVRlc3RJZCIsIl9ieVRleHQiLCJfYnlQbGFjZWhvbGRlclRleHQiLCJfYnlEaXNwbGF5VmFsdWUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIldlYWtNYXAiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImtleSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImRlc2MiLCJzZXQiLCJpbnN0YW5jZSIsImdldEJ5VHlwZUZuIiwidHlwZSIsImZpbmRCeVR5cGUiLCJlcnJvciIsIkVycm9yV2l0aFN0YWNrIiwicHJlcGFyZUVycm9yTWVzc2FnZSIsImdldEJ5UHJvcHNGbiIsInByb3BzIiwiZmluZEJ5UHJvcHMiLCJnZXRBbGxCeVR5cGVGbiIsInJlc3VsdHMiLCJmaW5kQWxsQnlUeXBlIiwibGVuZ3RoIiwiZ2V0QWxsQnlQcm9wc0ZuIiwiZmluZEFsbEJ5UHJvcHMiLCJnZXRCeVRleHQiLCJnZXRCeVBsYWNlaG9sZGVyVGV4dCIsImdldEJ5RGlzcGxheVZhbHVlIiwiZ2V0QnlUZXN0SWQiLCJnZXRBbGxCeVRleHQiLCJnZXRBbGxCeVBsYWNlaG9sZGVyVGV4dCIsImdldEFsbEJ5RGlzcGxheVZhbHVlIiwiZ2V0QWxsQnlUZXN0SWQiLCJnZXRCeU5hbWUiLCJ0aHJvd1JlbW92ZWRGdW5jdGlvbkVycm9yIiwiZ2V0QWxsQnlOYW1lIiwiZ2V0QnlUeXBlIiwiZ2V0QWxsQnlUeXBlIiwiZ2V0QnlQcm9wcyIsImdldEFsbEJ5UHJvcHMiLCJnZXRCeVBsYWNlaG9sZGVyIiwidGhyb3dSZW5hbWVkRnVuY3Rpb25FcnJvciIsImdldEFsbEJ5UGxhY2Vob2xkZXIiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQzNDQyxFQUFBQSxLQUFLLEVBQUU7QUFEb0MsQ0FBN0M7QUFHQUQsT0FBTyxDQUFDRSxRQUFSLEdBQW1CRixPQUFPLENBQUNHLG9CQUFSLEdBQStCSCxPQUFPLENBQUNJLG1CQUFSLEdBQThCSixPQUFPLENBQUNLLGlCQUFSLEdBQTRCTCxPQUFPLENBQUNNLGdCQUFSLEdBQTJCLEtBQUssQ0FBNUk7O0FBRUEsSUFBSUMsS0FBSyxHQUFHQyx1QkFBdUIsQ0FBQ0MsT0FBTyxDQUFDLE9BQUQsQ0FBUixDQUFuQzs7QUFFQSxJQUFJQyxhQUFhLEdBQUdDLHNCQUFzQixDQUFDRixPQUFPLENBQUMsZUFBRCxDQUFSLENBQTFDOztBQUVBLElBQUlHLE9BQU8sR0FBR0gsT0FBTyxZQUFyQjs7QUFFQSxJQUFJSSxTQUFTLEdBQUdKLE9BQU8sY0FBdkI7O0FBRUEsSUFBSUssT0FBTyxHQUFHTCxPQUFPLFlBQXJCOztBQUVBLElBQUlNLGtCQUFrQixHQUFHTixPQUFPLHVCQUFoQzs7QUFFQSxJQUFJTyxlQUFlLEdBQUdQLE9BQU8sb0JBQTdCOztBQUVBLFNBQVNFLHNCQUFULENBQWdDTSxHQUFoQyxFQUFxQztBQUFFLFNBQU9BLEdBQUcsSUFBSUEsR0FBRyxDQUFDQyxVQUFYLEdBQXdCRCxHQUF4QixHQUE4QjtBQUFFRSxJQUFBQSxPQUFPLEVBQUVGO0FBQVgsR0FBckM7QUFBd0Q7O0FBRS9GLFNBQVNHLHdCQUFULEdBQW9DO0FBQUUsTUFBSSxP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cnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZ2V0QnlBUEkgPSBleHBvcnRzLlVOU0FGRV9nZXRBbGxCeVByb3BzID0gZXhwb3J0cy5VTlNBRkVfZ2V0QWxsQnlUeXBlID0gZXhwb3J0cy5VTlNBRkVfZ2V0QnlQcm9wcyA9IGV4cG9ydHMuVU5TQUZFX2dldEJ5VHlwZSA9IHZvaWQgMDtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9wcmV0dHlGb3JtYXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcmV0dHktZm9ybWF0XCIpKTtcblxudmFyIF9lcnJvcnMgPSByZXF1aXJlKFwiLi9lcnJvcnNcIik7XG5cbnZhciBfYnlUZXN0SWQgPSByZXF1aXJlKFwiLi9ieVRlc3RJZFwiKTtcblxudmFyIF9ieVRleHQgPSByZXF1aXJlKFwiLi9ieVRleHRcIik7XG5cbnZhciBfYnlQbGFjZWhvbGRlclRleHQgPSByZXF1aXJlKFwiLi9ieVBsYWNlaG9sZGVyVGV4dFwiKTtcblxudmFyIF9ieURpc3BsYXlWYWx1ZSA9IHJlcXVpcmUoXCIuL2J5RGlzcGxheVZhbHVlXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuY29uc3QgVU5TQUZFX2dldEJ5VHlwZSA9IGluc3RhbmNlID0+IGZ1bmN0aW9uIGdldEJ5VHlwZUZuKHR5cGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaW5zdGFuY2UuZmluZEJ5VHlwZSh0eXBlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygoMCwgX2Vycm9ycy5wcmVwYXJlRXJyb3JNZXNzYWdlKShlcnJvciksIGdldEJ5VHlwZUZuKTtcbiAgfVxufTtcblxuZXhwb3J0cy5VTlNBRkVfZ2V0QnlUeXBlID0gVU5TQUZFX2dldEJ5VHlwZTtcblxuY29uc3QgVU5TQUZFX2dldEJ5UHJvcHMgPSBpbnN0YW5jZSA9PiBmdW5jdGlvbiBnZXRCeVByb3BzRm4ocHJvcHMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaW5zdGFuY2UuZmluZEJ5UHJvcHMocHJvcHMpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKCgwLCBfZXJyb3JzLnByZXBhcmVFcnJvck1lc3NhZ2UpKGVycm9yKSwgZ2V0QnlQcm9wc0ZuKTtcbiAgfVxufTtcblxuZXhwb3J0cy5VTlNBRkVfZ2V0QnlQcm9wcyA9IFVOU0FGRV9nZXRCeVByb3BzO1xuXG5jb25zdCBVTlNBRkVfZ2V0QWxsQnlUeXBlID0gaW5zdGFuY2UgPT4gZnVuY3Rpb24gZ2V0QWxsQnlUeXBlRm4odHlwZSkge1xuICBjb25zdCByZXN1bHRzID0gaW5zdGFuY2UuZmluZEFsbEJ5VHlwZSh0eXBlKTtcblxuICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgX2Vycm9ycy5FcnJvcldpdGhTdGFjaygnTm8gaW5zdGFuY2VzIGZvdW5kJywgZ2V0QWxsQnlUeXBlRm4pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5leHBvcnRzLlVOU0FGRV9nZXRBbGxCeVR5cGUgPSBVTlNBRkVfZ2V0QWxsQnlUeXBlO1xuXG5jb25zdCBVTlNBRkVfZ2V0QWxsQnlQcm9wcyA9IGluc3RhbmNlID0+IGZ1bmN0aW9uIGdldEFsbEJ5UHJvcHNGbihwcm9wcykge1xuICBjb25zdCByZXN1bHRzID0gaW5zdGFuY2UuZmluZEFsbEJ5UHJvcHMocHJvcHMpO1xuXG4gIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBfZXJyb3JzLkVycm9yV2l0aFN0YWNrKGBObyBpbnN0YW5jZXMgZm91bmQgd2l0aCBwcm9wczpcXG4keygwLCBfcHJldHR5Rm9ybWF0LmRlZmF1bHQpKHByb3BzKX1gLCBnZXRBbGxCeVByb3BzRm4pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdHM7XG59O1xuXG5leHBvcnRzLlVOU0FGRV9nZXRBbGxCeVByb3BzID0gVU5TQUZFX2dldEFsbEJ5UHJvcHM7XG5cbmNvbnN0IGdldEJ5QVBJID0gaW5zdGFuY2UgPT4gKHtcbiAgZ2V0QnlUZXh0OiAoMCwgX2J5VGV4dC5nZXRCeVRleHQpKGluc3RhbmNlKSxcbiAgZ2V0QnlQbGFjZWhvbGRlclRleHQ6ICgwLCBfYnlQbGFjZWhvbGRlclRleHQuZ2V0QnlQbGFjZWhvbGRlclRleHQpKGluc3RhbmNlKSxcbiAgZ2V0QnlEaXNwbGF5VmFsdWU6ICgwLCBfYnlEaXNwbGF5VmFsdWUuZ2V0QnlEaXNwbGF5VmFsdWUpKGluc3RhbmNlKSxcbiAgZ2V0QnlUZXN0SWQ6ICgwLCBfYnlUZXN0SWQuZ2V0QnlUZXN0SWQpKGluc3RhbmNlKSxcbiAgZ2V0QWxsQnlUZXh0OiAoMCwgX2J5VGV4dC5nZXRBbGxCeVRleHQpKGluc3RhbmNlKSxcbiAgZ2V0QWxsQnlQbGFjZWhvbGRlclRleHQ6ICgwLCBfYnlQbGFjZWhvbGRlclRleHQuZ2V0QWxsQnlQbGFjZWhvbGRlclRleHQpKGluc3RhbmNlKSxcbiAgZ2V0QWxsQnlEaXNwbGF5VmFsdWU6ICgwLCBfYnlEaXNwbGF5VmFsdWUuZ2V0QWxsQnlEaXNwbGF5VmFsdWUpKGluc3RhbmNlKSxcbiAgZ2V0QWxsQnlUZXN0SWQ6ICgwLCBfYnlUZXN0SWQuZ2V0QWxsQnlUZXN0SWQpKGluc3RhbmNlKSxcbiAgLy8gVW5zYWZlXG4gIFVOU0FGRV9nZXRCeVR5cGU6IFVOU0FGRV9nZXRCeVR5cGUoaW5zdGFuY2UpLFxuICBVTlNBRkVfZ2V0QWxsQnlUeXBlOiBVTlNBRkVfZ2V0QWxsQnlUeXBlKGluc3RhbmNlKSxcbiAgVU5TQUZFX2dldEJ5UHJvcHM6IFVOU0FGRV9nZXRCeVByb3BzKGluc3RhbmNlKSxcbiAgVU5TQUZFX2dldEFsbEJ5UHJvcHM6IFVOU0FGRV9nZXRBbGxCeVByb3BzKGluc3RhbmNlKSxcbiAgLy8gUmVtb3ZlZFxuICBnZXRCeU5hbWU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdnZXRCeU5hbWUnLCAnbWlncmF0aW9uLXYyI3JlbW92ZWQtZnVuY3Rpb25zJyksXG4gIGdldEFsbEJ5TmFtZTogKCkgPT4gKDAsIF9lcnJvcnMudGhyb3dSZW1vdmVkRnVuY3Rpb25FcnJvcikoJ2dldEFsbEJ5TmFtZScsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgZ2V0QnlUeXBlOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbW92ZWRGdW5jdGlvbkVycm9yKSgnZ2V0QnlUeXBlJywgJ21pZ3JhdGlvbi12MiNyZW1vdmVkLWZ1bmN0aW9ucycpLFxuICBnZXRBbGxCeVR5cGU6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdnZXRBbGxCeVR5cGUnLCAnbWlncmF0aW9uLXYyI3JlbW92ZWQtZnVuY3Rpb25zJyksXG4gIGdldEJ5UHJvcHM6ICgpID0+ICgwLCBfZXJyb3JzLnRocm93UmVtb3ZlZEZ1bmN0aW9uRXJyb3IpKCdnZXRCeVByb3BzJywgJ21pZ3JhdGlvbi12MiNyZW1vdmVkLWZ1bmN0aW9ucycpLFxuICBnZXRBbGxCeVByb3BzOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbW92ZWRGdW5jdGlvbkVycm9yKSgnZ2V0QWxsQnlQcm9wcycsICdtaWdyYXRpb24tdjIjcmVtb3ZlZC1mdW5jdGlvbnMnKSxcbiAgLy8gUmVuYW1lZFxuICBnZXRCeVBsYWNlaG9sZGVyOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbmFtZWRGdW5jdGlvbkVycm9yKSgnZ2V0QnlQbGFjZWhvbGRlcicsICdnZXRCeVBsYWNlaG9sZGVyVGV4dCcpLFxuICBnZXRBbGxCeVBsYWNlaG9sZGVyOiAoKSA9PiAoMCwgX2Vycm9ycy50aHJvd1JlbmFtZWRGdW5jdGlvbkVycm9yKSgnZ2V0QWxsQnlQbGFjZWhvbGRlcicsICdnZXRCeVBsYWNlaG9sZGVyVGV4dCcpXG59KTtcblxuZXhwb3J0cy5nZXRCeUFQSSA9IGdldEJ5QVBJOyJdfQ==