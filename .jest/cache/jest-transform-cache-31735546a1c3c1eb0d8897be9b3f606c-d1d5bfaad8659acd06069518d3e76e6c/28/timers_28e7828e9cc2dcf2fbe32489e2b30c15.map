{"version":3,"sources":["timers.js"],"names":["Object","defineProperty","exports","value","runWithRealTimers","setTimeout","setImmediate","clearTimeout","jestFakeTimersAreEnabled","globalObj","window","global","callback","fakeTimersType","getJestFakeTimersType","jest","useRealTimers","callbackReturnValue","useFakeTimers","_isMockFunction","clock","getRealSystemTime","Boolean","setImmediatePolyfill","fn","bindTimeFunctions","clearTimeoutFn","setImmediateFn","setTimeoutFn"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,iBAAR,GAA4BA,iBAA5B;AACAF,OAAO,CAACG,UAAR,GAAqBH,OAAO,CAACI,YAAR,GAAuBJ,OAAO,CAACK,YAAR,GAAuBL,OAAO,CAACM,wBAAR,GAAmC,KAAK,CAA3G;AAIA,IAAMC,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,MAAhC,GAAyCD,MAA3D;;AAEA,SAASN,iBAAT,CAA2BQ,QAA3B,EAAqC;AACnC,MAAMC,cAAc,GAAGC,qBAAqB,EAA5C;;AAEA,MAAID,cAAJ,EAAoB;AAClBE,IAAAA,IAAI,CAACC,aAAL;AACD;;AAED,MAAMC,mBAAmB,GAAGL,QAAQ,EAApC;;AAEA,MAAIC,cAAJ,EAAoB;AAClBE,IAAAA,IAAI,CAACG,aAAL,CAAmBL,cAAnB;AACD;;AAED,SAAOI,mBAAP;AACD;;AAED,SAASH,qBAAT,GAAiC;AAE/B,MAAI,OAAOC,IAAP,KAAgB,WAAhB,IAA+B,OAAON,SAAS,CAACJ,UAAjB,KAAgC,WAAnE,EAAgF;AAC9E,WAAO,IAAP;AACD;;AAED,MAAI,OAAOI,SAAS,CAACJ,UAAV,CAAqBc,eAA5B,KAAgD,WAAhD,IAA+DV,SAAS,CAACJ,UAAV,CAAqBc,eAAxF,EAAyG;AACvG,WAAO,QAAP;AACD;;AAED,MAAI,OAAOV,SAAS,CAACJ,UAAV,CAAqBe,KAA5B,KAAsC,WAAtC,IACJ,OAAOL,IAAI,CAACM,iBAAZ,KAAkC,WADlC,EAC+C;AAC7C,QAAI;AAGFN,MAAAA,IAAI,CAACM,iBAAL;AACA,aAAO,QAAP;AACD,KALD,CAKE,gBAAM,CACP;AACF;;AAED,SAAO,IAAP;AACD;;AAED,IAAMb,wBAAwB,GAAG,SAA3BA,wBAA2B;AAAA,SAAMc,OAAO,CAACR,qBAAqB,EAAtB,CAAb;AAAA,CAAjC;;AAGAZ,OAAO,CAACM,wBAAR,GAAmCA,wBAAnC;;AAEA,SAASe,oBAAT,CAA8BC,EAA9B,EAAkC;AAChC,SAAOf,SAAS,CAACJ,UAAV,CAAqBmB,EAArB,EAAyB,CAAzB,CAAP;AACD;;AAED,SAASC,iBAAT,GAA6B;AAC3B,SAAO;AACLC,IAAAA,cAAc,EAAEjB,SAAS,CAACF,YADrB;AAELoB,IAAAA,cAAc,EAAElB,SAAS,CAACH,YAAV,IAA0BiB,oBAFrC;AAGLK,IAAAA,YAAY,EAAEnB,SAAS,CAACJ;AAHnB,GAAP;AAKD;;AAED,yBAIID,iBAAiB,CAACqB,iBAAD,CAJrB;AAAA,IACEC,cADF,sBACEA,cADF;AAAA,IAEEC,cAFF,sBAEEA,cAFF;AAAA,IAGEC,YAHF,sBAGEA,YAHF;;AAKA1B,OAAO,CAACG,UAAR,GAAqBuB,YAArB;AACA1B,OAAO,CAACI,YAAR,GAAuBqB,cAAvB;AACAzB,OAAO,CAACK,YAAR,GAAuBmB,cAAvB","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.runWithRealTimers = runWithRealTimers;\nexports.setTimeout = exports.setImmediate = exports.clearTimeout = exports.jestFakeTimersAreEnabled = void 0;\n// Most content of this file sourced directly from https://github.com/testing-library/dom-testing-library/blob/main/src/helpers.js\n\n/* globals jest */\nconst globalObj = typeof window === 'undefined' ? global : window; // Currently this fn only supports jest timers, but it could support other test runners in the future.\n\nfunction runWithRealTimers(callback) {\n  const fakeTimersType = getJestFakeTimersType();\n\n  if (fakeTimersType) {\n    jest.useRealTimers();\n  }\n\n  const callbackReturnValue = callback();\n\n  if (fakeTimersType) {\n    jest.useFakeTimers(fakeTimersType);\n  }\n\n  return callbackReturnValue;\n}\n\nfunction getJestFakeTimersType() {\n  // istanbul ignore if\n  if (typeof jest === 'undefined' || typeof globalObj.setTimeout === 'undefined') {\n    return null;\n  }\n\n  if (typeof globalObj.setTimeout._isMockFunction !== 'undefined' && globalObj.setTimeout._isMockFunction) {\n    return 'legacy';\n  }\n\n  if (typeof globalObj.setTimeout.clock !== 'undefined' && // $FlowIgnore[prop-missing]\n  typeof jest.getRealSystemTime !== 'undefined') {\n    try {\n      // jest.getRealSystemTime is only supported for Jest's `modern` fake timers and otherwise throws\n      // $FlowExpectedError\n      jest.getRealSystemTime();\n      return 'modern';\n    } catch {// not using Jest's modern fake timers\n    }\n  }\n\n  return null;\n}\n\nconst jestFakeTimersAreEnabled = () => Boolean(getJestFakeTimersType()); // we only run our tests in node, and setImmediate is supported in node.\n\n\nexports.jestFakeTimersAreEnabled = jestFakeTimersAreEnabled;\n\nfunction setImmediatePolyfill(fn) {\n  return globalObj.setTimeout(fn, 0);\n}\n\nfunction bindTimeFunctions() {\n  return {\n    clearTimeoutFn: globalObj.clearTimeout,\n    setImmediateFn: globalObj.setImmediate || setImmediatePolyfill,\n    setTimeoutFn: globalObj.setTimeout\n  };\n}\n\nconst {\n  clearTimeoutFn,\n  setImmediateFn,\n  setTimeoutFn\n} = runWithRealTimers(bindTimeFunctions);\nexports.setTimeout = setTimeoutFn;\nexports.setImmediate = setImmediateFn;\nexports.clearTimeout = clearTimeoutFn;"]}