{"version":3,"sources":["render.js"],"names":["Object","defineProperty","exports","value","default","render","React","_interopRequireWildcard","require","_reactTestRenderer","_interopRequireDefault","_act","_cleanup","_getByAPI","_queryByAPI","_findByAPI","_a11yAPI","_debugShallow","_debugDeep","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","component","Wrapper","wrapper","createNodeMock","wrap","innerElement","createElement","renderer","renderWithAct","undefined","update","updateWithAct","instance","root","unmount","addToCleanupQueue","getByAPI","queryByAPI","findByAPI","a11yAPI","container","rerender","toJSON","debug","options","create","debugImpl","message","shallow"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = render;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactTestRenderer = _interopRequireDefault(require(\"react-test-renderer\"));\n\nvar _act = _interopRequireDefault(require(\"./act\"));\n\nvar _cleanup = require(\"./cleanup\");\n\nvar _getByAPI = require(\"./helpers/getByAPI\");\n\nvar _queryByAPI = require(\"./helpers/queryByAPI\");\n\nvar _findByAPI = require(\"./helpers/findByAPI\");\n\nvar _a11yAPI = require(\"./helpers/a11yAPI\");\n\nvar _debugShallow = _interopRequireDefault(require(\"./helpers/debugShallow\"));\n\nvar _debugDeep = _interopRequireDefault(require(\"./helpers/debugDeep\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// eslint-disable-line import/no-extraneous-dependencies\n\n/**\n * Renders test component deeply using react-test-renderer and exposes helpers\n * to assert on the output.\n */\nfunction render(component, {\n  wrapper: Wrapper,\n  createNodeMock\n} = {}) {\n  const wrap = innerElement => Wrapper ? /*#__PURE__*/React.createElement(Wrapper, null, innerElement) : innerElement;\n\n  const renderer = renderWithAct(wrap(component), createNodeMock ? {\n    createNodeMock\n  } : undefined);\n  const update = updateWithAct(renderer, wrap);\n  const instance = renderer.root;\n\n  const unmount = () => {\n    (0, _act.default)(() => {\n      renderer.unmount();\n    });\n  };\n\n  (0, _cleanup.addToCleanupQueue)(unmount);\n  return { ...(0, _getByAPI.getByAPI)(instance),\n    ...(0, _queryByAPI.queryByAPI)(instance),\n    ...(0, _findByAPI.findByAPI)(instance),\n    ...(0, _a11yAPI.a11yAPI)(instance),\n    update,\n    unmount,\n    container: instance,\n    rerender: update,\n    // alias for `update`\n    toJSON: renderer.toJSON,\n    debug: debug(instance, renderer)\n  };\n}\n\nfunction renderWithAct(component, options) {\n  let renderer;\n  (0, _act.default)(() => {\n    renderer = _reactTestRenderer.default.create(component, options);\n  });\n  return renderer;\n}\n\nfunction updateWithAct(renderer, wrap) {\n  return function (component) {\n    (0, _act.default)(() => {\n      renderer.update(wrap(component));\n    });\n  };\n}\n\nfunction debug(instance, renderer) {\n  function debugImpl(message) {\n    return (0, _debugDeep.default)(renderer.toJSON(), message);\n  }\n\n  debugImpl.shallow = message => (0, _debugShallow.default)(instance, message);\n\n  return debugImpl;\n}"]}